---
const { project, imageSrc, href } = Astro.props;
---
{
  href ? (
    <a
      href={href}
      class="group relative isolate block min-h-[280px] overflow-hidden rounded-2xl border border-ink/10 bg-white/60 shadow-sm transition hover:-translate-y-1 hover:border-ink/30 focus-visible:-translate-y-1 focus-visible:border-ink/30 sm:min-h-[340px]"
      aria-label={`View project: ${project.title}`}
    >
      <img
        src={imageSrc}
        alt=""
        class="absolute inset-0 h-full w-full object-cover grayscale-[55%] transition duration-500 group-hover:scale-[1.02] group-hover:grayscale-0 group-focus-visible:grayscale-0"
        loading="lazy"
        decoding="async"
      />
      <div class="absolute inset-0 bg-gradient-to-t from-ink/75 via-ink/25 to-transparent"></div>
      <div class="absolute inset-0 bg-white/5"></div>
      <div class="absolute bottom-0 left-0 p-6 sm:p-8">
        <p class="text-xs uppercase tracking-[0.3em] text-paper/80">
          {project.category ?? 'Project'}
        </p>
        <h3 class="mt-2 text-2xl font-semibold leading-tight text-paper sm:text-3xl">
          {project.title}
        </h3>
        <p class="mt-3 max-w-2xl text-sm text-paper/85 sm:text-base">
          {project.description}
        </p>
      </div>
    </a>
  ) : (
    <article class="group relative isolate min-h-[280px] overflow-hidden rounded-2xl border border-ink/10 bg-white/60 shadow-sm transition hover:-translate-y-1 hover:border-ink/30 sm:min-h-[340px]">
      <img
        src={imageSrc}
        alt=""
        class="absolute inset-0 h-full w-full object-cover grayscale-[55%] transition duration-500 group-hover:scale-[1.02] group-hover:grayscale-0"
        loading="lazy"
        decoding="async"
      />
      <div class="absolute inset-0 bg-gradient-to-t from-ink/75 via-ink/25 to-transparent"></div>
      <div class="absolute inset-0 bg-white/5"></div>
      <div class="absolute bottom-0 left-0 p-6 sm:p-8">
        <p class="text-xs uppercase tracking-[0.3em] text-paper/80">
          {project.category ?? 'Project'}
        </p>
        <h3 class="mt-2 text-2xl font-semibold leading-tight text-paper sm:text-3xl">
          {project.title}
        </h3>
        <p class="mt-3 max-w-2xl text-sm text-paper/85 sm:text-base">
          {project.description}
        </p>
      </div>
    </article>
  )
}
